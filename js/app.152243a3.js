(function(t){function a(a){for(var i,n,o=a[0],c=a[1],l=a[2],p=0,u=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(a);while(u.length)u.shift()();return s.push.apply(s,l||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],i=!0,o=1;o<e.length;o++){var c=e[o];0!==r[c]&&(i=!1)}i&&(s.splice(a--,1),t=n(n.s=e[0]))}return t}var i={},r={app:0},s=[];function n(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=i,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)n.d(e,i,function(a){return t[a]}.bind(null,i));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var d=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container"},[e("div",{staticClass:"column"},[e("div",{staticClass:"box box--data"},[e("div",{staticClass:"add4bottom"},[e("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.pair.wbtc.icon)}}),t.pair.wbtc.liquidity?e("span",[e("strong",{staticClass:"big add4left"},[t._v(t._s(t.pair.wbtc.liquidity))]),e("span",{staticClass:"light add4left"},[t._v("WBTC")])]):e("span",{staticClass:"add4left",domProps:{innerHTML:t._s(t.api.loadingIcon)}})]),e("div",[e("span",[t._v(" 1 WBTC "),t.pair.wbtc.swapPrice?e("span",[t._v(" = "+t._s(t.pair.wbtc.swapPrice)+" WETH "),e("span",{staticClass:"light add4left"},[t._v("("+t._s(t.pair.wbtc.usdPrice)+")")])]):t._e()])])]),e("div",{staticClass:"box"},[e("apexchart",{attrs:{type:"area",height:"275",options:t.charts.liquidity.options,series:t.charts.liquidity.series}}),e("tabs",{attrs:{tabs:t.charts.liquidity.tabs,active:t.charts.liquidity.currentTabId,chart:"liquidity"},on:{changeTab:t.onChangeTab}}),e("div",{staticClass:"labels"},[e("div",{staticClass:"add4bottom"},[e("span",[t._v("Liquidity")]),t.pair.latest.date?e("span",{ref:"liquidityDate",staticClass:"light add4left"},[t._v(t._s(t.pair.latest.date))]):t._e()]),e("div",{staticClass:"big"},[t.pair.latest.liquidity?e("strong",{ref:"liquidityAmount"},[t._v(t._s(t.pair.latest.liquidity))]):e("span",{staticClass:"light"},[t._v("Loading...")])])])],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"box box--data"},[e("div",{staticClass:"add4bottom"},[e("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.pair.weth.icon)}}),t.pair.weth.liquidity?e("span",[e("strong",{staticClass:"big add4left"},[t._v(t._s(t.pair.weth.liquidity))]),e("span",{staticClass:"light add4left"},[t._v("WETH")])]):e("span",{staticClass:"add4left",domProps:{innerHTML:t._s(t.api.loadingIcon)}})]),e("div",[e("span",[t._v(" 1 WETH "),t.pair.weth.swapPrice?e("span",[t._v(" = "+t._s(t.pair.weth.swapPrice)+" WBTC "),e("span",{staticClass:"light add4left"},[t._v("("+t._s(t.pair.weth.usdPrice)+")")])]):t._e()])])]),e("div",{staticClass:"box"},[e("apexchart",{attrs:{type:"bar",height:"290",options:t.charts.volume.options,series:t.charts.volume.series}}),e("tabs",{attrs:{tabs:t.charts.volume.tabs,active:t.charts.volume.currentTabId,chart:"volume"},on:{changeTab:t.onChangeTab}}),e("div",{staticClass:"labels"},[e("div",{staticClass:"add4bottom"},[e("span",[t._v("Volume")]),t.pair.latest.date?e("span",{ref:"volumeDate",staticClass:"light add4left"},[t._v(t._s(t.pair.latest.date))]):t._e()]),e("div",{staticClass:"big"},[t.pair.latest.volume?e("strong",{ref:"volumeAmount"},[t._v(t._s(t.pair.latest.volume))]):e("span",{staticClass:"light"},[t._v("Loading...")])])])],1)])])])},s=[],n=e("1da1"),o=e("5530"),c=(e("96cf"),e("cb29"),e("b680"),e("d81d"),e("fb6a"),e("99af"),e("e9c4"),e("1321")),l=e.n(c),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabs tabs--chart"},t._l(t.$props.tabs,(function(a,i){return e("div",{key:i,staticClass:"tabs__tab",class:{active:t.$props.active===i},on:{click:function(a){return t.$emit("changeTab",{index:i,chart:t.$props.chart})}}},[t._v(" "+t._s(a.name)+" ")])})),0)},p=[],u=(e("a9e3"),{props:{tabs:{type:Array,default:function(){return[]}},chart:{type:String},active:{type:Number,default:0}}}),h=u,f=(e("6f10"),e("2877")),m=Object(f["a"])(h,d,p,!1,null,null,null),v=m.exports,b=e("bc3a"),y=e.n(b),w=e("b166"),g=e("4602"),x=e("3683"),C=e("a1d8"),_={name:"App",components:{apexchart:l.a,tabs:v},data:function(){return{api:{url:"https://api.thegraph.com/subgraphs/name/sushiswap/exchange",loadingIcon:'<svg xmlns="http://www.w3.org/2000/svg" style="position:relative; top:2px; display:inline-block; shape-rendering:auto" width="21" height="21" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#dcdcdc" stroke-width="9" r="31" stroke-dasharray="146.08405839192537 50.69468613064179"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1.6949152542372883s" values="0 50 50;360 50 50" keyTimes="0;1"/></circle></svg>',firstTimestamp:1601330400},charts:{liquidity:{options:{chart:{width:"100%",id:"liquidityChart",toolbar:{show:!1},fontFamily:"inherit",foreColor:"#474c50",offsetX:8},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:1},colors:["#00FF97"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.5,opacityTo:0,stops:[0,80,100]}},grid:{show:!1},xaxis:{tickAmount:7,axisBorder:{show:!1},axisTicks:{show:!1},labels:{rotate:0}},yaxis:{show:!1},tooltip:{custom:this.customTooltip("liquidity")},labels:new Array(7).fill("")},series:[{name:"values",data:new Array(7).fill(0)}],tabs:[{name:"1W",period:7},{name:"1M",period:30},{name:"All",period:!1}],currentTabId:0},volume:{options:{chart:{id:"volumeChart",toolbar:{show:!1},fontFamily:"inherit",foreColor:"#474c50",sparkline:{enabled:!0},offsetX:-4,animations:{enabled:!0,easing:"easeinout",speed:200,animateGradually:{enabled:!0,delay:50},dynamicAnimation:{enabled:!0,speed:100}}},dataLabels:{enabled:!1},colors:["#F643CF"],fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:1,gradientToColors:["#EB7A4A"],opacityFrom:1,opacityTo:.5,stops:[0,100],colorStops:[]}},plotOptions:{bar:{borderRadius:3,horizontal:!1,columnWidth:"100%"}},grid:{show:!1},xaxis:{tickPlacement:"on",axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},categories:[]},yaxis:{show:!1},tooltip:{custom:this.customTooltip("volume")}},series:[{name:"values",data:new Array(7).fill(0)}],tabs:[{name:"1W",period:7},{name:"1M",period:30},{name:"All",period:!1}],currentTabId:0}},pair:{id:"0xceff51756c56ceffca006cd410b03ffc46dd3a58",latest:{date:!1,volume:!1,liquidity:!1},wbtc:{liquidity:!1,swapPrice:!1,usdPrice:!1,icon:'<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.998 20C4.476 19.999 0 15.522 0 10 0 4.476 4.477 0 10 0c5.522 0 9.999 4.476 10 9.998A10 10 0 0 1 9.998 20ZM9.996.778a9.215 9.215 0 1 0 .015 18.429A9.215 9.215 0 0 0 9.996.777Zm5.262 3.462a7.774 7.774 0 0 0-10.492 0l-.562-.549a8.56 8.56 0 0 1 11.603 0l-.549.55Zm.496.506.55-.55v-.012a8.56 8.56 0 0 1 0 11.603l-.55-.549a7.774 7.774 0 0 0 0-10.492ZM4.24 15.247a7.774 7.774 0 0 1 0-10.487l-.549-.549a8.56 8.56 0 0 0 0 11.604l.55-.568Zm.516.503a7.774 7.774 0 0 0 10.493 0l.561.55a8.56 8.56 0 0 1-11.603 0l.55-.55Zm8.68-7.583c-.109-1.146-1.098-1.53-2.348-1.648V4.941h-.966V6.49h-.773V4.941H8.39v1.59H6.43v1.034s.714-.013.703 0a.5.5 0 0 1 .549.424v4.35a.339.339 0 0 1-.117.236.335.335 0 0 1-.25.084c.013.01-.702 0-.702 0l-.183 1.155h1.942v1.614h.966v-1.59h.773v1.583h.968v-1.596c1.633-.099 2.771-.502 2.914-2.03.116-1.23-.463-1.78-1.387-2 .562-.277.91-.79.83-1.628Zm-1.352 3.44c0 1.103-1.734 1.078-2.525 1.066l-.188-.002v-2.13c.067 0 .149-.002.242-.004.813-.018 2.47-.055 2.47 1.07ZM9.536 9.566c.663.012 2.098.037 2.098-.967 0-1.029-1.39-.993-2.067-.975l-.196.003v1.937l.165.002Z" fill="#646464"/></svg>'},weth:{liquidity:!1,swapPrice:!1,usdPrice:!1,icon:'<svg width="12" height="21" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.815 9.455 5.92.954l-4.9 8.511 4.9-2.325 4.895 2.315Zm-4.898 4.559L.424 11.4 5.917 21l5.494-9.6-5.494 2.614Zm0-1.326-4.475-2.12 4.476-2.123 4.483 2.12-4.483 2.123Z" fill="#646464"/></svg>'},data:!1},formatters:{usd:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),swapPrice:function(t){return parseFloat(t).toFixed(4)},liquidity:function(t){return parseFloat(t).toFixed(2)},dateFromUnix:function(t){return Object(w["a"])(Object(g["a"])(t),"LLL d")}}}},methods:{onChangeTab:function(t){this.charts[t.chart].currentTabId=t.index,this.setChartData(t.chart)},customTooltip:function(t){var a=this;return function(e){e.series,e.seriesIndex;var i=e.dataPointIndex,r=(e.w,"liquidity"===t?"reserveUSD":"volumeUSD");return i=a.charts[t].tabs[a.charts[t].currentTabId].period-i-1,a.$refs[t+"Date"].innerHTML=a.formatters.dateFromUnix(a.pair.data.dayData[i].date),a.$refs[t+"Amount"].innerHTML=a.formatters.usd.format(a.pair.data.dayData[i][r]),!1}},setChartData:function(t){var a=this;this.pair.data.dayData=JSON.parse(localStorage.getItem("pair")).dayData;var e=this.charts[t].currentTabId,i=this.charts[t].tabs[e].period,r="liquidity"===t?"reserveUSD":"volumeUSD",s=this.charts[t].options;s=Object(o["a"])(Object(o["a"])({},s),{},{labels:this.pair.data.dayData.slice(0,i).map((function(t){return a.formatters.dateFromUnix(t.date)})).reverse()}),this.$set(this.charts[t],"options",s),this.$set(this.charts[t],"series",[{name:"values",data:this.pair.data.dayData.slice(0,i).map((function(t){return parseInt(t[r],10)})).reverse()}])},fetchData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,e=Object(x["a"])(new Date,Object(g["a"])(t.api.firstTimestamp)),t.charts.volume.tabs[t.charts.volume.tabs.length-1].period=t.charts.liquidity.tabs[t.charts.liquidity.tabs.length-1].period=e,localStorage.getItem("fetchDate")!==t.formatters.dateFromUnix(Object(C["a"])(new Date))||!localStorage.getItem("pair")){a.next=7;break}t.$set(t.pair,"data",JSON.parse(localStorage.getItem("pair"))),a.next=13;break;case 7:return a.next=9,y.a.post(t.api.url,{headers:{"Content-Type":"application/json"},query:'\n              {\n                pair(id: "'.concat(t.pair.id,'") {\n                  token0Price\n                  token1Price\n                  dayData (first:').concat(e,", orderBy: date, orderDirection: desc){\n                    date\n                    volumeUSD\n                    reserveUSD\n                  }\n                  token0 {\n                    name\n                    liquidity\n                    dayData (first:1, orderBy: date, orderDirection: desc) {\n                      date\n                      priceUSD\n                    }\n                  }\n                  token1 {\n                    name\n                    liquidity\n                    dayData (first:1, orderBy: date, orderDirection: desc) {\n                      date\n                      priceUSD\n                    }\n                  }\n                }\n              }\n            ")});case 9:i=a.sent,t.$set(t.pair,"data",i.data.data.pair),localStorage.setItem("pair",JSON.stringify(t.pair.data)),localStorage.setItem("fetchDate",t.formatters.dateFromUnix(Object(C["a"])(new Date)));case 13:t.pair.wbtc.swapPrice=t.formatters.swapPrice(t.pair.data.token1Price),t.pair.weth.swapPrice=t.formatters.swapPrice(t.pair.data.token0Price),t.pair.wbtc.liquidity=t.formatters.liquidity(t.pair.data.token0.liquidity),t.pair.weth.liquidity=t.formatters.liquidity(t.pair.data.token1.liquidity),t.pair.wbtc.usdPrice=t.formatters.usd.format(t.pair.data.token0.dayData[0].priceUSD),t.pair.weth.usdPrice=t.formatters.usd.format(t.pair.data.token1.dayData[0].priceUSD),t.pair.latest.date=t.formatters.dateFromUnix(t.pair.data.dayData[0].date),t.pair.latest.volume=t.formatters.usd.format(t.pair.data.dayData[0].volumeUSD),t.pair.latest.liquidity=t.formatters.usd.format(t.pair.data.dayData[0].reserveUSD),a.next=27;break;case 24:a.prev=24,a.t0=a["catch"](0),console.error(a.t0);case 27:case"end":return a.stop()}}),a,null,[[0,24]])})))()}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.fetchData();case 2:t.setChartData("volume"),t.setChartData("liquidity");case 4:case"end":return a.stop()}}),a)})))()}},D=_,T=(e("5c0b"),Object(f["a"])(D,r,s,!1,null,null,null)),q=T.exports;new i["a"]({render:function(t){return t(q)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";e("9c0c")},"6f10":function(t,a,e){"use strict";e("75aa")},"75aa":function(t,a,e){},"9c0c":function(t,a,e){}});
//# sourceMappingURL=app.152243a3.js.map